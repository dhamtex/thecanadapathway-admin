{"ast":null,"code":"var _jsxFileName = \"/Users/israel/Documents/Others/project-admin/src/hoc/withDashboardContext.tsx\",\n  _s2 = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport Loading from \"../Loading\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst withDashboardContext = Component => {\n  _s2();\n  var _s = $RefreshSig$();\n  const navigate = useNavigate();\n  return _s(() => {\n    _s();\n    const [isLoading, setLoading] = useState(true);\n    const [activeStudents, setActiveStudents] = useState();\n    const fetchActiveStudents = async accessToken => {\n      const response = await axios.get(\"http://localhost:8085/admin/active-students\", {\n        headers: {\n          Authorization: `Bearer ${accessToken}`\n        }\n      }).catch(error => {\n        if (error.response.status === 401) redirect(\"/\");\n      });\n      setActiveStudents(response === null || response === void 0 ? void 0 : response.data);\n    };\n    useEffect(() => {\n      const accessToken = localStorage.getItem(\"accessToken\");\n      const user = localStorage.getItem(\"user\");\n      if (!accessToken || !user) redirect(\"/\");\n      fetchActiveStudents(accessToken);\n      setLoading(false);\n    }, []);\n    return isLoading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 24\n    }, this) : /*#__PURE__*/_jsxDEV(Component, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 38\n    }, this);\n  }, \"6TAA/1MwEr/5P4KZYmiV7gji/Qw=\");\n};\n_s2(withDashboardContext, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\nexport default withDashboardContext;","map":{"version":3,"names":["useEffect","useState","Loading","axios","useNavigate","jsxDEV","_jsxDEV","withDashboardContext","Component","_s2","_s","$RefreshSig$","navigate","isLoading","setLoading","activeStudents","setActiveStudents","fetchActiveStudents","accessToken","response","get","headers","Authorization","catch","error","status","redirect","data","localStorage","getItem","user","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/Users/israel/Documents/Others/project-admin/src/hoc/withDashboardContext.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport Loading from \"../Loading\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst withDashboardContext = (Component: () => JSX.Element) => {\n  const navigate = useNavigate();\n  \n  return () => {\n    const [isLoading, setLoading] = useState(true);\n    const [activeStudents, setActiveStudents] = useState();\n\n    const fetchActiveStudents = async (accessToken: string) => {\n      const response = await axios\n        .get(\"http://localhost:8085/admin/active-students\", {\n          headers: {\n            Authorization: `Bearer ${accessToken}`,\n          },\n        })\n        .catch((error) => {\n          if (error.response.status === 401) redirect(\"/\");\n        });\n      setActiveStudents(response?.data);\n    };\n\n    useEffect(() => {\n      const accessToken = localStorage.getItem(\"accessToken\");\n      const user = localStorage.getItem(\"user\");\n      if (!accessToken || !user) redirect(\"/\");\n      fetchActiveStudents(accessToken!);\n      setLoading(false);\n    }, []);\n\n    return isLoading ? <Loading /> : <Component />;\n  };\n};\n\nexport default withDashboardContext;\n"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAOC,OAAO,MAAM,YAAY;AAChC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/C,MAAMC,oBAAoB,GAAIC,SAA4B,IAAK;EAAAC,GAAA;EAAA,IAAAC,EAAA,GAAAC,YAAA;EAC7D,MAAMC,QAAQ,GAAGR,WAAW,CAAC,CAAC;EAE9B,OAAAM,EAAA,CAAO,MAAM;IAAAA,EAAA;IACX,MAAM,CAACG,SAAS,EAAEC,UAAU,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;IAC9C,MAAM,CAACc,cAAc,EAAEC,iBAAiB,CAAC,GAAGf,QAAQ,CAAC,CAAC;IAEtD,MAAMgB,mBAAmB,GAAG,MAAOC,WAAmB,IAAK;MACzD,MAAMC,QAAQ,GAAG,MAAMhB,KAAK,CACzBiB,GAAG,CAAC,6CAA6C,EAAE;QAClDC,OAAO,EAAE;UACPC,aAAa,EAAG,UAASJ,WAAY;QACvC;MACF,CAAC,CAAC,CACDK,KAAK,CAAEC,KAAK,IAAK;QAChB,IAAIA,KAAK,CAACL,QAAQ,CAACM,MAAM,KAAK,GAAG,EAAEC,QAAQ,CAAC,GAAG,CAAC;MAClD,CAAC,CAAC;MACJV,iBAAiB,CAACG,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEQ,IAAI,CAAC;IACnC,CAAC;IAED3B,SAAS,CAAC,MAAM;MACd,MAAMkB,WAAW,GAAGU,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC;MACvD,MAAMC,IAAI,GAAGF,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;MACzC,IAAI,CAACX,WAAW,IAAI,CAACY,IAAI,EAAEJ,QAAQ,CAAC,GAAG,CAAC;MACxCT,mBAAmB,CAACC,WAAY,CAAC;MACjCJ,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,EAAE,EAAE,CAAC;IAEN,OAAOD,SAAS,gBAAGP,OAAA,CAACJ,OAAO;MAAA6B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,gBAAG5B,OAAA,CAACE,SAAS;MAAAuB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAChD,CAAC;AACH,CAAC;AAACzB,GAAA,CA9BIF,oBAAoB;EAAA,QACPH,WAAW;AAAA;AA+B9B,eAAeG,oBAAoB"},"metadata":{},"sourceType":"module","externalDependencies":[]}