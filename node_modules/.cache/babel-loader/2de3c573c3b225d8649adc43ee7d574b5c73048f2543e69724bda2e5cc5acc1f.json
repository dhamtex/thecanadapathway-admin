{"ast":null,"code":"var _jsxFileName = \"/Users/israel/Documents/Others/project-admin/src/hoc/withLoginContext.tsx\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport Loading from \"../Loading\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst withLoginContext = Component => {\n  var _s = $RefreshSig$();\n  return _s(() => {\n    _s();\n    const navigate = useNavigate();\n    const [isLoading, setLoading] = useState(true);\n    useEffect(() => {\n      const accessToken = localStorage.getItem(\"accessToken\");\n      const user = localStorage.getItem(\"user\");\n      const date = localStorage.getItem(\"date\");\n      const expiredToken = date && new Date().getTime() - +date > 3.6e6;\n      if (accessToken && user && expiredToken === false) navigate(\"/dashboard\");\n      setLoading(false);\n    }, []);\n    return isLoading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 24\n    }, this) : /*#__PURE__*/_jsxDEV(Component, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 38\n    }, this);\n  }, \"zGNUk0AvacgBNG211OMstSo9jSg=\", false, function () {\n    return [useNavigate];\n  });\n};\nexport default withLoginContext;","map":{"version":3,"names":["useNavigate","useEffect","useState","Loading","jsxDEV","_jsxDEV","withLoginContext","Component","_s","$RefreshSig$","navigate","isLoading","setLoading","accessToken","localStorage","getItem","user","date","expiredToken","Date","getTime","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/Users/israel/Documents/Others/project-admin/src/hoc/withLoginContext.tsx"],"sourcesContent":["import { useNavigate } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport Loading from \"../Loading\";\n\nconst withLoginContext = (Component: () => JSX.Element) => {\n  return () => {\n    const navigate = useNavigate();\n    const [isLoading, setLoading] = useState(true);\n\n    useEffect(() => {\n      const accessToken = localStorage.getItem(\"accessToken\");\n      const user = localStorage.getItem(\"user\");\n      const date = localStorage.getItem(\"date\");\n      const expiredToken = date && new Date().getTime() - +date > 3.6e6;\n      if (accessToken && user && expiredToken === false) navigate(\"/dashboard\");\n      setLoading(false);\n    }, []);\n\n    return isLoading ? <Loading /> : <Component />;\n  };\n};\n\nexport default withLoginContext;\n"],"mappings":";AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAOC,OAAO,MAAM,YAAY;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEjC,MAAMC,gBAAgB,GAAIC,SAA4B,IAAK;EAAA,IAAAC,EAAA,GAAAC,YAAA;EACzD,OAAAD,EAAA,CAAO,MAAM;IAAAA,EAAA;IACX,MAAME,QAAQ,GAAGV,WAAW,CAAC,CAAC;IAC9B,MAAM,CAACW,SAAS,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;IAE9CD,SAAS,CAAC,MAAM;MACd,MAAMY,WAAW,GAAGC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC;MACvD,MAAMC,IAAI,GAAGF,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;MACzC,MAAME,IAAI,GAAGH,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;MACzC,MAAMG,YAAY,GAAGD,IAAI,IAAI,IAAIE,IAAI,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC,GAAG,CAACH,IAAI,GAAG,KAAK;MACjE,IAAIJ,WAAW,IAAIG,IAAI,IAAIE,YAAY,KAAK,KAAK,EAAER,QAAQ,CAAC,YAAY,CAAC;MACzEE,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,EAAE,EAAE,CAAC;IAEN,OAAOD,SAAS,gBAAGN,OAAA,CAACF,OAAO;MAAAkB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,gBAAGnB,OAAA,CAACE,SAAS;MAAAc,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAChD,CAAC;IAAA,QAbkBxB,WAAW;EAAA;AAchC,CAAC;AAED,eAAeM,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}