{"ast":null,"code":"var _jsxFileName = \"/Users/israel/Documents/Others/project-admin/src/hoc/withDashboardContext.tsx\";\nimport { useEffect, useState } from \"react\";\nimport Loading from \"../Loading\";\nimport axios from \"axios\";\nimport { redirect } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst withDashboardContext = Component => {\n  var _s = $RefreshSig$();\n  return _s(() => {\n    _s();\n    const [isLoading, setLoading] = useState(true);\n    const [activeStudents, setActiveStudents] = useState();\n    const fetchActiveStudents = async accessToken => {\n      const response = await axios.get(\"http://localhost:8085/admin/active-students\", {\n        headers: {\n          Authorization: `Bearer ${accessToken}`\n        }\n      }).catch(error => {\n        if (error.response.status === 401) redirect(\"/\");\n      });\n      setActiveStudents(response.data);\n    };\n    useEffect(() => {\n      const accessToken = localStorage.getItem(\"accessToken\");\n      const user = localStorage.getItem(\"user\");\n      if (!accessToken || !user) redirect(\"/\");\n      fetchActiveStudents(accessToken);\n    }, []);\n    return isLoading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 24\n    }, this) : /*#__PURE__*/_jsxDEV(Component, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 38\n    }, this);\n  }, \"6TAA/1MwEr/5P4KZYmiV7gji/Qw=\");\n};\nexport default withDashboardContext;","map":{"version":3,"names":["useEffect","useState","Loading","axios","redirect","jsxDEV","_jsxDEV","withDashboardContext","Component","_s","$RefreshSig$","isLoading","setLoading","activeStudents","setActiveStudents","fetchActiveStudents","accessToken","response","get","headers","Authorization","catch","error","status","data","localStorage","getItem","user","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/Users/israel/Documents/Others/project-admin/src/hoc/withDashboardContext.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport Loading from \"../Loading\";\nimport axios from \"axios\";\nimport { redirect } from \"react-router-dom\";\n\nconst withDashboardContext = (Component: () => JSX.Element) => {\n  return () => {\n    const [isLoading, setLoading] = useState(true);\n    const [activeStudents, setActiveStudents] = useState();\n\n    const fetchActiveStudents = async (accessToken: string) => {\n      const response = await axios\n        .get(\"http://localhost:8085/admin/active-students\", {\n          headers: {\n            Authorization: `Bearer ${accessToken}`,\n          },\n        })\n        .catch((error) => {\n          if (error.response.status === 401) redirect(\"/\");\n        });\n      setActiveStudents(response.data as any);\n    };\n\n    useEffect(() => {\n      const accessToken = localStorage.getItem(\"accessToken\");\n      const user = localStorage.getItem(\"user\");\n      if (!accessToken || !user) redirect(\"/\");\n      fetchActiveStudents(accessToken!);\n    }, []);\n\n    return isLoading ? <Loading /> : <Component />;\n  };\n};\n\nexport default withDashboardContext;\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAOC,OAAO,MAAM,YAAY;AAChC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE5C,MAAMC,oBAAoB,GAAIC,SAA4B,IAAK;EAAA,IAAAC,EAAA,GAAAC,YAAA;EAC7D,OAAAD,EAAA,CAAO,MAAM;IAAAA,EAAA;IACX,MAAM,CAACE,SAAS,EAAEC,UAAU,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;IAC9C,MAAM,CAACY,cAAc,EAAEC,iBAAiB,CAAC,GAAGb,QAAQ,CAAC,CAAC;IAEtD,MAAMc,mBAAmB,GAAG,MAAOC,WAAmB,IAAK;MACzD,MAAMC,QAAQ,GAAG,MAAMd,KAAK,CACzBe,GAAG,CAAC,6CAA6C,EAAE;QAClDC,OAAO,EAAE;UACPC,aAAa,EAAG,UAASJ,WAAY;QACvC;MACF,CAAC,CAAC,CACDK,KAAK,CAAEC,KAAK,IAAK;QAChB,IAAIA,KAAK,CAACL,QAAQ,CAACM,MAAM,KAAK,GAAG,EAAEnB,QAAQ,CAAC,GAAG,CAAC;MAClD,CAAC,CAAC;MACJU,iBAAiB,CAACG,QAAQ,CAACO,IAAW,CAAC;IACzC,CAAC;IAEDxB,SAAS,CAAC,MAAM;MACd,MAAMgB,WAAW,GAAGS,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC;MACvD,MAAMC,IAAI,GAAGF,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;MACzC,IAAI,CAACV,WAAW,IAAI,CAACW,IAAI,EAAEvB,QAAQ,CAAC,GAAG,CAAC;MACxCW,mBAAmB,CAACC,WAAY,CAAC;IACnC,CAAC,EAAE,EAAE,CAAC;IAEN,OAAOL,SAAS,gBAAGL,OAAA,CAACJ,OAAO;MAAA0B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,gBAAGzB,OAAA,CAACE,SAAS;MAAAoB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAChD,CAAC;AACH,CAAC;AAED,eAAexB,oBAAoB"},"metadata":{},"sourceType":"module","externalDependencies":[]}